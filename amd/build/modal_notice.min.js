define(["jquery","core/notification","core/modal","core/modal_registry"],function(a,b,c,d){var e=!1,f={CLOSE_BUTTON:'[data-action="close"]',ACCEPT_BUTTON:'[data-action="accept"]',ACK_CHECKBOX:"sitenotice-modal-ackcheckbox"},g={NOTICE_ID:"data-noticeid",REQUIRED_ACKNOWLEDGE:"data-noticereqack"},h=function(a){c.call(this,a),this.getFooter().find(f.CLOSE_BUTTON).length||b.exception({message:"No close button found"}),this.getFooter().find(f.ACCEPT_BUTTON).length||b.exception({message:"No accept button found"})};return h.TYPE="local_sitenotice",h.prototype=Object.create(c.prototype),h.prototype.constructor=h,e||(d.register(h.TYPE,h,"local_sitenotice/modal_notice"),e=!0),h.prototype.getCloseButtonID=function(){return"#"+this.getFooter().find(f.CLOSE_BUTTON).attr("id")},h.prototype.getAcceptButtonID=function(){return"#"+this.getFooter().find(f.ACCEPT_BUTTON).attr("id")},h.prototype.getAckCheckboxID=function(){return"#"+f.ACK_CHECKBOX},h.prototype.setNoticeId=function(a){this.getModal().attr(g.NOTICE_ID,a)},h.prototype.getNoticeId=function(){return this.getModal().attr(g.NOTICE_ID)},h.prototype.setRequiredAcknowledgement=function(b){if(1==b){var c=this.getBody(),d=a("<input>",{type:"checkbox",id:f.ACK_CHECKBOX}),e="I have read and understand the notice (Closing this notice will log you off this site).",g=a("<label>",{"for":f.ACK_CHECKBOX,text:e});c.append(d),c.append(g),this.getFooter().find(f.ACCEPT_BUTTON).attr("disabled",!0)}else this.getFooter().find(f.ACCEPT_BUTTON).css("display","none")},h});